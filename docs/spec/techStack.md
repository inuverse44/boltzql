# 🧠 必要な技術スタック一覧（boltzql）

## 🟦 A. アプリケーション層（Quarkus + Kotlin）

| カテゴリ | 技術 | 目的 |
|----------|------|------|
| **言語** | Kotlin (JVM) | 型安全・関数型・非同期処理しやすい言語 |
| **フレームワーク** | Quarkus | 軽量・高速起動なJVM向けWebフレームワーク（Kotlin対応） |
| **GraphQL** | SmallRye GraphQL | QuarkusでのGraphQL API定義・Resolverの実装 |
| **DI** | Jakarta CDI | 各サービス・ノードの依存性注入（`@Inject`） |

---

## 🟨 B. ビジネスロジック層（ボルツマンマシンの再現）

| カテゴリ | 技術/知識 | 目的 |
|----------|-----------|------|
| **状態モデル** | エネルギー関数、確率的活性化 | ボルツマンマシン風状態管理の核 |
| **ギブスサンプリング** | ロジスティック関数 + 乱数 | 活性化の確率的決定に必要 |
| **ノード間の重み構造** | 可変または固定の重み構造 | 他ノードの状態による活性化確率調整 |

---

## 🟩 C. データ・状態管理

| カテゴリ | 技術 | 目的 |
|----------|------|------|
| **インメモリ保存** | `Map`, `ConcurrentHashMap` | 最小構成ではローカル状態管理 |
| **永続化（推奨）** | Redis | ノード状態、重み、学習履歴を保持／共有 |
| **シリアライゼーション** | Jackson (JSON) | 状態・重みの保存と復元に利用 |

---

## 🟧 D. フロントエンド層（可視化・操作）

| カテゴリ | 技術 | 目的 |
|----------|------|------|
| **UIフレームワーク** | React または Kotlin/JS + Compose Web | ノード可視化・状態表示UIの構築 |
| **可視化** | D3.js / Chart.js / Cytoscape.js | ノード間構造や状態の動的可視化 |
| **GraphQLクライアント** | Apollo Client / urql / ktor-client-graphql | フロントからGraphQL APIへ接続・操作 |

---

## 🟫 E. テスト・開発ツール

| カテゴリ | 技術 | 目的 |
|----------|------|------|
| **ビルドツール** | Gradle (Kotlin DSL) | ビルド・依存管理 |
| **ローカルテスト** | REST Client (VSCode), Altair GraphQL | クエリテスト |
| **ユニットテスト** | JUnit5 + KotlinTest | 各ノードの状態遷移・ロジック検証 |
| **統合テスト** | Testcontainers + Redis | 実運用に近い状態で検証可能に |

---

## 🟪 F. デプロイ・運用（拡張時）

| カテゴリ | 技術 | 目的 |
|----------|------|------|
| **クラウド実行環境** | GCP Cloud Run / GKE / Heroku / Fly.io | デプロイ環境 |
| **監視** | Micrometer + Prometheus / OpenTelemetry | ノード状態・応答遅延などの監視 |
| **CI/CD** | GitHub Actions / Cloud Build | 自動テスト・デプロイ連携 |

---

## 🎓 G. 学習・理論ベース（参考用）

| カテゴリ | 内容 |
|----------|------|
| **機械学習** | ボルツマンマシン、RBM、エネルギー最小化、ギブスサンプリング |
| **確率論** | ロジスティック関数、確率分布、サンプリング |
| **Webアーキテクチャ** | GraphQLスキーマ設計、API連携、マイクロサービス構造 |

---

## ✅ 導入ステージ別整理

| 導入段階 | 例 |
|----------|----|
| ✅ 最小構成で必須 | Kotlin, Quarkus, SmallRye GraphQL, GibbsSampler, Map状態管理 |
| 🔶 推奨追加機能 | Redis, ノード状態の永続化, 状態可視化UI |
| 🚀 発展機能 | 重みの学習, ノード間通信, GraphQL Federation, クラウド化 |
